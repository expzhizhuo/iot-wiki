{"remainingRequest":"Z:\\文库\\iot-wiki\\node_modules\\babel-loader\\lib\\index.js??ref--3-1!Z:\\文库\\iot-wiki\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!Z:\\文库\\iot-wiki\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!Z:\\文库\\iot-wiki\\node_modules\\vuepress-theme-antdocs\\components\\PageAnchor.vue?vue&type=script&lang=js&","dependencies":[{"path":"Z:\\文库\\iot-wiki\\node_modules\\vuepress-theme-antdocs\\components\\PageAnchor.vue","mtime":1654681744000},{"path":"Z:\\文库\\iot-wiki\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"Z:\\文库\\iot-wiki\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"Z:\\文库\\iot-wiki\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"Z:\\文库\\iot-wiki\\node_modules\\vue-loader\\lib\\index.js","mtime":1655715099000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlLmpzIjsKLy8gaW1wb3J0IHsgZ2V0TG9jYWxTdG9yYWdlIH0gZnJvbSAnLi4vdXRpbC9pbmRleCc7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaGVhZGVyc0xpc3Q6IFtdIC8vIGlzQ29sbGFwc2VQYWdlQW5jaG9yOiBmYWxzZQoKICAgIH07CiAgfSwKCiAgbWV0aG9kczogewogICAgLy8gY29sbGFwc2VQYWdlQW5jaG9yKCkgewogICAgLy8gICB0aGlzLmlzQ29sbGFwc2VQYWdlQW5jaG9yID0gIXRoaXMuaXNDb2xsYXBzZVBhZ2VBbmNob3I7CiAgICAvLyAgIHRoaXMuJHN0b3JlLnN0YXRlLmdsb2JhbC5pc0NvbGxhcHNlUGFnZUFuY2hvciA9IHRoaXMuaXNDb2xsYXBzZVBhZ2VBbmNob3I7CiAgICAvLyAgIGlmICh0eXBlb2YgbG9jYWxTdG9yYWdlID09PSAndW5kZWZpbmVkJykgcmV0dXJuOwogICAgLy8gICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnaXNDb2xsYXBzZVBhZ2VBbmNob3InLCB0aGlzLmlzQ29sbGFwc2VQYWdlQW5jaG9yKTsKICAgIC8vIH0sCiAgICBhcnJheVRvVHJlZShhcnIsIHBhcmVudCkgewogICAgICByZXR1cm4gYXJyLnJlZHVjZSgocmVzLCBjdXJyZW50KSA9PiB7CiAgICAgICAgaWYgKGN1cnJlbnRbJ3BhcmVudCddID09PSBwYXJlbnQpIHsKICAgICAgICAgIGN1cnJlbnQuaXRlbXMgPSB0aGlzLmFycmF5VG9UcmVlKGFyciwgY3VycmVudFsnaWQnXSk7CiAgICAgICAgICByZXR1cm4gcmVzLmNvbmNhdChjdXJyZW50KTsKICAgICAgICB9CgogICAgICAgIHJldHVybiByZXM7CiAgICAgIH0sIFtdKTsKICAgIH0KCiAgfSwKICBjb21wdXRlZDogewogICAgaGFzSGVhZGVycygpIHsKICAgICAgcmV0dXJuIHRoaXMuaGVhZGVyc0RhdGEgPyB0cnVlIDogZmFsc2U7CiAgICB9LAoKICAgIGhlYWRlcnNEYXRhKCkgewogICAgICByZXR1cm4gdGhpcy4kcGFnZS5oZWFkZXJzOwogICAgfSwKCiAgICBwYWdlQW5jaG9yQ29uZmlnKCkgewogICAgICByZXR1cm4gdGhpcy4kcGFnZS5mcm9udG1hdHRlci5wYWdlQW5jaG9yIHx8IHRoaXMuJHRoZW1lQ29uZmlnLnBhZ2VBbmNob3IgfHwgewogICAgICAgIGFuY2hvckRlcHRoOiAyLAogICAgICAgIGlzRGlzYWJsZWQ6IGZhbHNlCiAgICAgIH07CiAgICB9LAoKICAgIGlzQ29sbGFwc2VQYWdlQW5jaG9yKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuZ2xvYmFsLmlzQ29sbGFwc2VQYWdlQW5jaG9yOwogICAgfSwKCiAgICBmaWx0ZXJIZWFkZXJzQnlMZXZlbDIoKSB7CiAgICAgIGNvbnN0IHsKICAgICAgICBoZWFkZXJzCiAgICAgIH0gPSB0aGlzLiRwYWdlOwogICAgICBsZXQgaGVhZGVyc0xpc3Q7CiAgICAgIGhlYWRlcnNMaXN0ID0gaGVhZGVycy5maWx0ZXIoaXRlbSA9PiBpdGVtLmxldmVsID09PSAyKTsKICAgICAgaGVhZGVyc0xpc3QuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICBpdGVtWydpdGVtcyddID0gW107CiAgICAgIH0pOwogICAgICByZXR1cm4gaGVhZGVyc0xpc3Q7CiAgICB9LAoKICAgIGZpbHRlckhlYWRlcnNCeUxldmVsKCkgewogICAgICBpZiAodGhpcy5wYWdlQW5jaG9yQ29uZmlnLmFuY2hvckRlcHRoID09PSAxKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZmlsdGVySGVhZGVyc0J5TGV2ZWwyOwogICAgICB9CgogICAgICBjb25zdCB7CiAgICAgICAgaGVhZGVycwogICAgICB9ID0gdGhpcy4kcGFnZTsKICAgICAgbGV0IGhlYWRlcnNMaXN0ID0gaGVhZGVyczsKICAgICAgaGVhZGVyc0xpc3QuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHsKICAgICAgICBpdGVtWydpZCddID0gaW5kZXggKyAxOwoKICAgICAgICBpZiAoaXRlbS5sZXZlbCA9PT0gMikgewogICAgICAgICAgaXRlbVsncGFyZW50J10gPSAwOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAoaW5kZXggIT09IDApIHsKICAgICAgICAgICAgaWYgKGhlYWRlcnNMaXN0W2luZGV4IC0gMV0ubGV2ZWwgPT09IDIpIHsKICAgICAgICAgICAgICBpdGVtWydwYXJlbnQnXSA9IGhlYWRlcnNMaXN0W2luZGV4IC0gMV1bJ2lkJ107CiAgICAgICAgICAgIH0gZWxzZSBpZiAoaGVhZGVyc0xpc3RbaW5kZXggLSAxXS5sZXZlbCA9PT0gMykgewogICAgICAgICAgICAgIGl0ZW1bJ3BhcmVudCddID0gaGVhZGVyc0xpc3RbaW5kZXggLSAxXVsncGFyZW50J107CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgICByZXR1cm4gdGhpcy5hcnJheVRvVHJlZShoZWFkZXJzTGlzdCwgMCk7CiAgICB9CgogIH0gLy8gbW91bnRlZCgpIHsKICAvLyAgIHRoaXMuaXNDb2xsYXBzZVBhZ2VBbmNob3IgPSBnZXRMb2NhbFN0b3JhZ2UoCiAgLy8gICAgICdpc0NvbGxhcHNlUGFnZUFuY2hvcicsCiAgLy8gICAgICdib29sZW4nCiAgLy8gICApOwogIC8vIH0KCn07"},{"version":3,"mappings":";AA2CA;AACA;EACAA;IACA;MACAC,eADA,CAEA;;IAFA;EAIA,CANA;;EAOAC;IACA;IACA;IACA;IACA;IACA;IACA;IACAC;MACA;QACA;UACAC;UACA;QACA;;QACA;MACA,CANA,EAMA,EANA;IAOA;;EAfA,CAPA;EAwBAC;IACAC;MACA;IACA,CAHA;;IAIAC;MACA;IACA,CANA;;IAOAC;MACA,OACA,qCACA,4BADA,IACA;QAAAC;QAAAC;MAAA,CAFA;IAIA,CAZA;;IAaAC;MACA;IACA,CAfA;;IAgBAC;MACA;QAAAC;MAAA;MACA;MACAZ;MACAA;QACAa;MACA,CAFA;MAGA;IACA,CAxBA;;IAyBAC;MACA;QACA;MACA;;MAEA;QAAAF;MAAA;MACA;MACAZ;QACAa;;QACA;UACAA;QACA,CAFA,MAEA;UACA;YACA;cACAA;YACA,CAFA,MAEA;cACAA;YACA;UACA;QACA;MACA,CAbA;MAcA;IACA;;EA/CA,CAxBA,CAyEA;EACA;EACA;EACA;EACA;EACA;;AA9EA","names":["data","headersList","methods","arrayToTree","current","computed","hasHeaders","headersData","pageAnchorConfig","anchorDepth","isDisabled","isCollapsePageAnchor","filterHeadersByLevel2","headers","item","filterHeadersByLevel"],"sourceRoot":"node_modules/vuepress-theme-antdocs/components","sources":["PageAnchor.vue"],"sourcesContent":["<template>\r\n  <div\r\n    :class=\"['page-anchor', { 'collapse-page-anchor': isCollapsePageAnchor }]\"\r\n    v-if=\"hasHeaders\"\r\n  >\r\n\r\n    <a-space direction=\"vertical\" size=\"large\" style=\"width:100%;\">\r\n      <!-- <a-button @click=\"collapsePageAnchor\" shape=\"circle\">\r\n        <a-icon v-if=\"isCollapsePageAnchor\" type=\"left\" />\r\n        <a-icon v-else type=\"right\" />\r\n      </a-button> -->\r\n\r\n      <a-anchor class=\"page-anchor-offset\">\r\n        <template v-for=\"(item, index) in filterHeadersByLevel\">\r\n          <a-anchor-link\r\n            v-if=\"item['items'].length !== 0\"\r\n            :href=\"'#' + item.slug\"\r\n            :title=\"item.title\"\r\n            :key=\"index\"\r\n          >\r\n            <template v-for=\"(subItem, index) in item['items']\">\r\n              <a-anchor-link\r\n                v-if=\"subItem.level === 3\"\r\n                :href=\"'#' + subItem.slug\"\r\n                :title=\"subItem.title\"\r\n                :key=\"index\"\r\n              />\r\n            </template>\r\n          </a-anchor-link>\r\n\r\n          <a-anchor-link\r\n            v-else\r\n            :href=\"'#' + item.slug\"\r\n            :title=\"item.title\"\r\n            :key=\"index\"\r\n          />\r\n        </template>\r\n      </a-anchor>\r\n    </a-space>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// import { getLocalStorage } from '../util/index';\r\nexport default {\r\n  data() {\r\n    return {\r\n      headersList: [],\r\n      // isCollapsePageAnchor: false\r\n    };\r\n  },\r\n  methods: {\r\n    // collapsePageAnchor() {\r\n    //   this.isCollapsePageAnchor = !this.isCollapsePageAnchor;\r\n    //   this.$store.state.global.isCollapsePageAnchor = this.isCollapsePageAnchor;\r\n    //   if (typeof localStorage === 'undefined') return;\r\n    //   localStorage.setItem('isCollapsePageAnchor', this.isCollapsePageAnchor);\r\n    // },\r\n    arrayToTree(arr, parent) {\r\n      return arr.reduce((res, current) => {\r\n        if (current['parent'] === parent) {\r\n          current.items = this.arrayToTree(arr, current['id']);\r\n          return res.concat(current);\r\n        }\r\n        return res;\r\n      }, []);\r\n    }\r\n  },\r\n  computed: {\r\n    hasHeaders() {\r\n      return this.headersData ? true : false;\r\n    },\r\n    headersData() {\r\n      return this.$page.headers;\r\n    },\r\n    pageAnchorConfig() {\r\n      return (\r\n        this.$page.frontmatter.pageAnchor ||\r\n        this.$themeConfig.pageAnchor || { anchorDepth: 2, isDisabled: false }\r\n      );\r\n    },\r\n    isCollapsePageAnchor(){\r\n      return this.$store.state.global.isCollapsePageAnchor\r\n    },\r\n    filterHeadersByLevel2() {\r\n      const { headers } = this.$page;\r\n      let headersList;\r\n      headersList = headers.filter(item => item.level === 2);\r\n      headersList.forEach(item => {\r\n        item['items'] = [];\r\n      });\r\n      return headersList;\r\n    },\r\n    filterHeadersByLevel() {\r\n      if (this.pageAnchorConfig.anchorDepth === 1) {\r\n        return this.filterHeadersByLevel2;\r\n      }\r\n\r\n      const { headers } = this.$page;\r\n      let headersList = headers;\r\n      headersList.forEach((item, index) => {\r\n        item['id'] = index + 1;\r\n        if (item.level === 2) {\r\n          item['parent'] = 0;\r\n        } else {\r\n          if (index !== 0) {\r\n            if (headersList[index - 1].level === 2) {\r\n              item['parent'] = headersList[index - 1]['id'];\r\n            } else if (headersList[index - 1].level === 3) {\r\n              item['parent'] = headersList[index - 1]['parent'];\r\n            }\r\n          }\r\n        }\r\n      });\r\n      return this.arrayToTree(headersList, 0);\r\n    }\r\n  },\r\n  // mounted() {\r\n  //   this.isCollapsePageAnchor = getLocalStorage(\r\n  //     'isCollapsePageAnchor',\r\n  //     'boolen'\r\n  //   );\r\n  // }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n@import '../styles/palette.less';\r\n\r\n.page-anchor {\r\n  width: 12.5rem;\r\n  position: fixed;\r\n  top: @navbarHeight + 3.5rem;\r\n  right: 1.25rem;\r\n  z-index: 999;\r\n  // transition: right 0.3s cubic-bezier(0.215, 0.61, 0.355, 1);\r\n\r\n  .anticon {\r\n    margin-top: -3px;\r\n  }\r\n\r\n  // .ant-anchor-wrapper {\r\n  //   transition: opacity 0.3s cubic-bezier(0.215, 0.61, 0.355, 1);\r\n  // }\r\n\r\n  .page-anchor-offset {\r\n    padding-left: 6px;\r\n    max-height: 15rem;\r\n    overflow-y: auto;\r\n  }\r\n}\r\n// .collapse-page-anchor {\r\n//   right: -10.5rem;\r\n\r\n//   .ant-anchor-wrapper {\r\n//     opacity: 0;\r\n//     visibility: hidden;\r\n//   }\r\n// }\r\n</style>\r\n"]}]}